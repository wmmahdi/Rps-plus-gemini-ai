<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rockâ€“Paperâ€“Scissorsâ€“Plus Referee</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="bg-planetary"></div>
  <div class="grid-lines"></div>
  <main class="shell">
    <header class="hero">
      <div>
        <p class="eyebrow">Gemini-powered referee</p>
        <h1>Rockâ€“Paperâ€“Scissorsâ€“Plus</h1>
        <p class="lede">Best of 3 rounds. Bomb beats all (once). Smooth micro-interactions, live commentary, and a crystal-clear referee.</p>
        <div class="chip-row">
          <span class="chip">Animated UI</span>
          <span class="chip">Stateful tools</span>
          <span class="chip">Gemini 2.5 Flash</span>
        </div>
      </div>
      <div class="hero-card" id="roundCard">
        <div class="label">Current Round</div>
        <div class="round-number" id="roundNumber">1</div>
        <div class="mini">Best of 3 â€¢ Bomb once</div>
      </div>
    </header>

    <!-- UX Enhancement: Game Phase Indicator -->
    <section class="phase-indicator" id="phaseIndicator">
      <div class="phase-dot"></div>
      <span class="phase-text" id="phaseText">Waiting for your move</span>
    </section>

    <section class="board">
      <div class="score">
        <div class="score-card">
          <p class="label">You</p>
          <p class="score-value" id="userScore">0</p>
          <p class="meta" id="userBomb">Bomb available</p>
        </div>
        <div class="score-card">
          <p class="label">Bot</p>
          <p class="score-value" id="botScore">0</p>
          <p class="meta" id="botBomb">Bomb unknown</p>
        </div>
      </div>

      <div class="actions">
        <div class="btn-group" id="moveButtons">
          <button class="btn" data-move="rock">ğŸª¨ Rock</button>
          <button class="btn" data-move="paper">ğŸ“„ Paper</button>
          <button class="btn" data-move="scissors">âœ‚ï¸ Scissors</button>
          <button class="btn bomb" data-move="bomb" id="bombBtn" title="Bomb beats everything - use wisely!">ğŸ’£ Bomb</button>
        </div>
        <div class="input-row">
          <input type="text" id="customInput" placeholder="Or type something fun (we'll interpret it)" />
          <button class="btn ghost" id="sendCustom">Send</button>
        </div>
        <p class="hint">Invalid input wastes the round. Bomb beats everything but can be used only once.</p>
        <p class="hint-helper" id="hintHelper" style="display: none;">âœ¨ Valid moves are highlighted above</p>
      </div>
    </section>

    <section class="status">
      <div class="announce" id="announce">Waiting for your moveâ€¦</div>
      <div class="badges" id="badges"></div>
      
      <!-- Product Enhancement: Explainability Layer -->
      <div class="explainability" id="explainability" style="display: none;">
        <span class="explain-icon">ğŸ’¡</span>
        <span class="explain-text" id="explainText"></span>
      </div>
      
      <!-- Product Enhancement: Passive User Insights -->
      <div class="insight" id="insight" style="display: none;">
        <span class="insight-text" id="insightText"></span>
      </div>
    </section>

    <section class="log">
      <div class="log-header">
        <h2>Round history</h2>
        <button class="btn ghost" id="restartBtn">New Game</button>
      </div>
      <ul id="logList" class="log-list"></ul>
    </section>
  </main>

  <div class="round-toast" id="roundToast">
    <div class="toast-content">
      <p class="toast-label">Round Result</p>
      <p class="toast-title" id="toastTitle">Ready?</p>
      <p class="toast-sub" id="toastSub">Let's play.</p>
    </div>
  </div>

  <!-- UX Enhancement: Game Over Modal -->
  <div class="game-over-modal" id="gameOverModal">
    <div class="game-over-content">
      <div class="game-over-icon" id="gameOverIcon">ğŸ®</div>
      <h2 class="game-over-title" id="gameOverTitle">Game Over</h2>
      <p class="game-over-score" id="gameOverScore">Final Score: 0-0</p>
      <p class="game-over-result" id="gameOverResult">It's a draw!</p>
      
      <!-- Product Enhancement: End-of-Game Summary Card -->
      <div class="game-summary" id="gameSummary">
        <h3>Match Summary</h3>
        <div class="summary-stats">
          <div class="summary-item">
            <span class="summary-label">Rounds played</span>
            <span class="summary-value" id="summaryRounds">0</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Invalid moves</span>
            <span class="summary-value" id="summaryInvalid">0</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Bomb used</span>
            <span class="summary-value" id="summaryBomb">No</span>
          </div>
        </div>
      </div>
      
      <button class="btn primary-cta" id="newGameBtn">ğŸ¯ Start New Game</button>
    </div>
  </div>

  <!-- Product Enhancement: Bot Thinking Indicator -->
  <div class="bot-thinking" id="botThinking">
    <div class="thinking-content">
      <span class="thinking-icon">ğŸ¤–</span>
      <span class="thinking-text">Bot is thinkingâ€¦</span>
      <div class="thinking-dots">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>

  <!-- Product Enhancement: Round Transition Card -->
  <div class="round-transition" id="roundTransition">
    <div class="transition-content">
      <h3 class="transition-title" id="transitionTitle">Round 2</h3>
      <p class="transition-score" id="transitionScore">Score: You 0 â€“ Bot 0</p>
    </div>
  </div>

  <!-- UX Enhancement: Move Reveal Animations -->
  <div class="move-reveal-container" id="moveRevealContainer">
    <div class="move-reveal user-move" id="userMoveReveal">
      <div class="move-label">Your Move</div>
      <div class="move-value" id="userMoveValue">?</div>
    </div>
    <div class="move-reveal bot-move" id="botMoveReveal">
      <div class="move-label">Bot's Move</div>
      <div class="move-value" id="botMoveValue">?</div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
